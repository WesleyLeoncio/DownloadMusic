<Window x:Class="DownloadMusic.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="YouTube Music Download" Height="850" Width="950" ResizeMode="CanResize" MinWidth="650" MinHeight="600">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>  <!-- Pasta destino -->
            <RowDefinition Height="Auto"/>  <!-- URL -->
            <RowDefinition Height="Auto"/>  <!-- Progresso -->
            <RowDefinition Height="*"/>     <!-- Lista -->
            <RowDefinition Height="Auto"/>  <!-- Botão baixar -->
        </Grid.RowDefinitions>

        <!-- Pasta destino -->
        <Grid Grid.Row="0" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="150"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="100"/>
            </Grid.ColumnDefinitions>
            <Label Content="Pasta de destino:" VerticalAlignment="Center" Grid.Column="0"/>
            <TextBox x:Name="TxtSavePath" Height="30" VerticalAlignment="Center" Margin="5,0" Grid.Column="1"/>
            <Button Content="📁 Pasta" Width="90" Height="30" Grid.Column="2" Click="BtnEscolherPasta_Click" VerticalAlignment="Center"/>
        </Grid>

        <!-- URL -->
        <Grid Grid.Row="1" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="150"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="100"/>
            </Grid.ColumnDefinitions>
            <Label Content="URL Música/Playlist:" VerticalAlignment="Center" Grid.Column="0"/>
            <TextBox x:Name="TxtUrl" Height="30" VerticalAlignment="Center" Margin="5,0" Grid.Column="1"/>
            <Button Content="🔍 Buscar" Width="90" Height="30" Grid.Column="2" Click="BtnBuscarVideos_Click" VerticalAlignment="Center"/>
        </Grid>

        <!-- Progresso -->
        <Grid Grid.Row="2" Height="30" Margin="0,0,0,10">
            <ProgressBar x:Name="DownloadProgressBar"
                         Minimum="0"
                         Maximum="100"
                         Value="0"
                         Foreground="Green"
                         Background="#FFE0E0E0"
                         Height="30"
                         HorizontalAlignment="Stretch"/>
            <TextBlock x:Name="ProgressText"
                       Text="0%"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       FontWeight="Bold"
                       Foreground="Black"/>
        </Grid>

        <!-- Lista -->
        <DataGrid x:Name="DgvMusicas"
                  Grid.Row="3"
                  ItemsSource="{Binding VideoList}" 
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  Margin="0,0,0,10"
                  HeadersVisibility="Column"
                  AlternatingRowBackground="#F9F9F9"
                  RowBackground="White"
                  GridLinesVisibility="None"
                  ColumnHeaderHeight="35"
                  RowHeight="35"
                  BorderThickness="1"
                  BorderBrush="#DDDDDD"
                  FontSize="14"
                  FontFamily="Segoe UI"
                  HorizontalGridLinesBrush="#E0E0E0"
                  VerticalGridLinesBrush="#E0E0E0"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch">
            <DataGrid.Resources>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Background" Value="#EEEEEE"/>
                    <Setter Property="Foreground" Value="#333"/>
                    <Setter Property="FontWeight" Value="SemiBold"/>
                    <Setter Property="Padding" Value="5"/>
                    <Setter Property="BorderBrush" Value="#CCCCCC"/>
                    <Setter Property="BorderThickness" Value="0,0,0,1"/>
                </Style>
                <Style TargetType="DataGridCell">
                    <Setter Property="Padding" Value="5,0"/>
                </Style>
            </DataGrid.Resources>

            <DataGrid.Columns>
                <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="80"/>
                <DataGridTextColumn Header="Título" Binding="{Binding Titulo}" Width="*"/>
                <DataGridTextColumn Header="Duração" Binding="{Binding Duracao}" Width="100"/>
                <DataGridTemplateColumn Header="Ações" Width="80">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="🗑"
                                    ToolTip="Remover"
                                    Click="BtnRemover_Click"
                                    Tag="{Binding}"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Foreground="Red"
                                    FontSize="16"
                                    Cursor="Hand"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Botão baixar -->
        <Button x:Name="BtnDownload"
                Grid.Row="4"
                Content="⬇ Baixar músicas"
                Height="45"
                FontWeight="Bold"
                FontSize="16"
                Background="DodgerBlue"
                Foreground="White"
                BorderBrush="DarkBlue"
                Click="BtnDownload_Click"
                IsEnabled="False"
                HorizontalAlignment="Stretch"/>
    </Grid>
</Window>
